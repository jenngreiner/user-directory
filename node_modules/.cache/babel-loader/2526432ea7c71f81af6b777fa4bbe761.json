{"ast":null,"code":"var _jsxFileName = \"/Users/jg/code/bootcamp/homework/user-directory/src/components/SearchResultContainer/index.js\";\nimport React, { Component } from \"react\";\nimport SearchForm from \"../SearchForm/index\";\nimport ResultList from \"../Results/index\"; // import \"./style.css\";\n\nimport API from \"../../utils/API\";\nimport { render } from \"@testing-library/react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass SearchResultContainer extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      // search\n      search: \"\",\n      // results\n      employees: [],\n      // sorted name\n      sort: \"DESC\"\n    };\n\n    this.searchEmployees = query => {\n      API.search(query).then(res => {\n        this.setState({\n          employees: res.data.employees\n        }).catch(err => console.log(err));\n      });\n    };\n\n    this.handleInputChange = event => {\n      if (event.target.name === \"search\") {\n        const search = event.target.value.toLowerCase();\n        this.setState({\n          search: search\n        });\n      }\n    };\n\n    this.handleFormSubmit = event => {\n      event.preventDefault();\n      this.searchEmployees(this.state.search);\n    };\n\n    this.sortByName = () => {\n      const alphabetizedResults = this.state.employees.sort((a, b) => {\n        return a.name.first > b.name.first ? 1 : -1;\n      });\n\n      if (this.state.sort === \"DESC\") {\n        alphabetizedResults.reverse();\n        this.setState({\n          sort: \"ASC\"\n        });\n      } else {\n        this.setState({\n          sort: \"DESC\"\n        });\n      }\n\n      this.setState({\n        employees: alphabetizedResults\n      });\n    };\n\n    this.sortByPhone = () => {\n      let phoneResults = this.state.results.sort((a, b) => {\n        return parseInt(a.phone.trim().replace(/-()/), \"\") - parseInt(b.phone.trim().replace(/-()/), \"\") ? 1 : -1;\n      });\n      this.setState({\n        employees: phoneResults\n      });\n    };\n  }\n\n  // component did mount calls searchEmployees\n  componentDidMount() {\n    this.searchEmployees(\"\");\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(SearchForm, {\n        search: this.state.search,\n        handleFormSubmit: this.handleFormSubmit,\n        handleInputChange: this.handleInputChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ResultList, {\n        search: this.state.search,\n        results: this.state.results,\n        sortByName: this.sortByName,\n        sortByEmail: this.sortByEmail,\n        sortByPhone: this.sortByPhone,\n        sortByDOB: this.sortByDOB\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default SearchResultContainer;","map":{"version":3,"sources":["/Users/jg/code/bootcamp/homework/user-directory/src/components/SearchResultContainer/index.js"],"names":["React","Component","SearchForm","ResultList","API","render","SearchResultContainer","state","search","employees","sort","searchEmployees","query","then","res","setState","data","catch","err","console","log","handleInputChange","event","target","name","value","toLowerCase","handleFormSubmit","preventDefault","sortByName","alphabetizedResults","a","b","first","reverse","sortByPhone","phoneResults","results","parseInt","phone","trim","replace","componentDidMount","sortByEmail","sortByDOB"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport SearchForm from \"../SearchForm/index\";\nimport ResultList from \"../Results/index\";\n// import \"./style.css\";\nimport API from \"../../utils/API\";\nimport { render } from \"@testing-library/react\";\n\nclass SearchResultContainer extends Component {\n  state = {\n    // search\n    search: \"\",\n    // results\n    employees: [],\n    // sorted name\n    sort: \"DESC\",\n  };\n\n  // component did mount calls searchEmployees\n  componentDidMount() {\n    this.searchEmployees(\"\");\n  }\n\n  searchEmployees = (query) => {\n    API.search(query).then((res) => {\n      this.setState({ employees: res.data.employees }).catch((err) =>\n        console.log(err)\n      );\n    });\n  };\n\n  handleInputChange = (event) => {\n    if (event.target.name === \"search\") {\n      const search = event.target.value.toLowerCase();\n      this.setState({\n        search: search,\n      });\n    }\n  };\n\n  handleFormSubmit = (event) => {\n    event.preventDefault();\n    this.searchEmployees(this.state.search);\n  };\n\n  // sort by first name\n  sortByName = () => {\n    const alphabetizedResults = this.state.employees.sort((a, b) => {\n      return a.name.first > b.name.first ? 1 : -1;\n    });\n\n    if (this.state.sort === \"DESC\") {\n      alphabetizedResults.reverse();\n      this.setState({ sort: \"ASC\" });\n    } else {\n      this.setState({ sort: \"DESC\" });\n    }\n    this.setState({ employees: alphabetizedResults });\n  };\n\n  // sort by phone\n  sortByPhone = () => {\n    let phoneResults = this.state.results.sort((a, b) => {\n      return parseInt(a.phone.trim().replace(/-()/), \"\") -\n        parseInt(b.phone.trim().replace(/-()/), \"\")\n        ? 1\n        : -1;\n    });\n    this.setState({ employees: phoneResults });\n  };\n\n  render() {\n    return (\n      <div>\n        <SearchForm\n          search={this.state.search}\n          handleFormSubmit={this.handleFormSubmit}\n          handleInputChange={this.handleInputChange}\n        />\n        <ResultList\n          search={this.state.search}\n          results={this.state.results}\n          sortByName={this.sortByName}\n          sortByEmail={this.sortByEmail}\n          sortByPhone={this.sortByPhone}\n          sortByDOB={this.sortByDOB}\n        />\n      </div>\n    );\n  }\n}\n\nexport default SearchResultContainer;\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"/Users/jg/code/bootcamp/homework/user-directory/src/components/SearchResultContainer/index.js\";\nimport React, { Component } from \"react\";\nimport SearchForm from \"../SearchForm/index\";\nimport Results from \"../Results/index\";\nimport Title from \"../Title/index\"; // import \"./style.css\";\n\nimport API from \"../../utils/API\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass SearchResultContainer extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      // search\n      search: \"\",\n      // results\n      results: [],\n      // sorted name\n      sort: \"DESC\"\n    };\n\n    this.searchUsers = query => {\n      API.search(query).then(res => {\n        this.setState({\n          results: res.data.results\n        });\n      });\n    };\n\n    this.handleInputChange = event => {\n      if (event.target.name === \"search\") {\n        const search = event.target.value.toLowerCase();\n        this.setState({\n          search: search\n        });\n      }\n    };\n\n    this.handleFormSubmit = event => {\n      event.preventDefault();\n      this.searchUsers(this.state.search);\n    };\n\n    this.sortByName = () => {\n      const alphabetizedResults = this.state.employees.sort((a, b) => {\n        return a.name.first > b.name.first ? 1 : -1;\n      });\n\n      if (this.state.sort === \"DESC\") {\n        alphabetizedResults.reverse();\n        this.setState({\n          sort: \"ASC\"\n        });\n      } else {\n        this.setState({\n          sort: \"DESC\"\n        });\n      }\n\n      this.setState({\n        employees: alphabetizedResults\n      });\n    };\n\n    this.sortByPhone = () => {\n      let phoneResults = this.state.results.sort((a, b) => {\n        return parseInt(a.phone.trim().replace(/-()/), \"\") - parseInt(b.phone.trim().replace(/-()/), \"\") ? 1 : -1;\n      });\n      this.setState({\n        employees: phoneResults\n      });\n    };\n  }\n\n  // component did mount calls searchUsers\n  componentDidMount() {\n    this.searchUsers(\"\");\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Title, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(SearchForm, {\n        search: this.state.search,\n        handleFormSubmit: this.handleFormSubmit,\n        handleInputChange: this.handleInputChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Results, {\n        search: this.state.search,\n        results: this.state.results,\n        sortByName: this.sortByName,\n        sortByEmail: this.sortByEmail,\n        sortByPhone: this.sortByPhone,\n        sortByDOB: this.sortByDOB\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default SearchResultContainer;","map":{"version":3,"sources":["/Users/jg/code/bootcamp/homework/user-directory/src/components/SearchResultContainer/index.js"],"names":["React","Component","SearchForm","Results","Title","API","SearchResultContainer","state","search","results","sort","searchUsers","query","then","res","setState","data","handleInputChange","event","target","name","value","toLowerCase","handleFormSubmit","preventDefault","sortByName","alphabetizedResults","employees","a","b","first","reverse","sortByPhone","phoneResults","parseInt","phone","trim","replace","componentDidMount","render","sortByEmail","sortByDOB"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport SearchForm from \"../SearchForm/index\";\nimport Results from \"../Results/index\";\nimport Title from \"../Title/index\";\n// import \"./style.css\";\nimport API from \"../../utils/API\";\n\n\nclass SearchResultContainer extends Component {\n  state = {\n    // search\n    search: \"\",\n    // results\n    results: [],\n    // sorted name\n    sort: \"DESC\",\n  };\n\n  // component did mount calls searchUsers\n  componentDidMount() {\n    this.searchUsers(\"\");\n  }\n\n  searchUsers = (query) => {\n    API.search(query).then((res) => {\n      this.setState({ results: res.data.results })\n    \n    });\n  };\n\n  handleInputChange = (event) => {\n    if (event.target.name === \"search\") {\n      const search = event.target.value.toLowerCase();\n      this.setState({\n        search: search,\n      });\n    }\n  };\n\n  handleFormSubmit = (event) => {\n    event.preventDefault();\n    this.searchUsers(this.state.search);\n  };\n\n  // sort by first name\n  sortByName = () => {\n    const alphabetizedResults = this.state.employees.sort((a, b) => {\n      return a.name.first > b.name.first ? 1 : -1;\n    });\n\n    if (this.state.sort === \"DESC\") {\n      alphabetizedResults.reverse();\n      this.setState({ sort: \"ASC\" });\n    } else {\n      this.setState({ sort: \"DESC\" });\n    }\n    this.setState({ employees: alphabetizedResults });\n  };\n\n  // sort by phone\n  sortByPhone = () => {\n    let phoneResults = this.state.results.sort((a, b) => {\n      return parseInt(a.phone.trim().replace(/-()/), \"\") -\n        parseInt(b.phone.trim().replace(/-()/), \"\")\n        ? 1\n        : -1;\n    });\n    this.setState({ employees: phoneResults });\n  };\n\n  render() {\n    return (\n      <div>\n      <Title />\n        <SearchForm\n          search={this.state.search}\n          handleFormSubmit={this.handleFormSubmit}\n          handleInputChange={this.handleInputChange}\n        />\n        <Results\n          search={this.state.search}\n          results={this.state.results}\n          sortByName={this.sortByName}\n          sortByEmail={this.sortByEmail}\n          sortByPhone={this.sortByPhone}\n          sortByDOB={this.sortByDOB}\n        />\n      </div>\n    );\n  }\n}\n\nexport default SearchResultContainer;\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _classCallCheck from\"/Users/jg/code/bootcamp/homework/19-user-directory/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/jg/code/bootcamp/homework/19-user-directory/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/jg/code/bootcamp/homework/19-user-directory/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/jg/code/bootcamp/homework/19-user-directory/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import SearchForm from\"../SearchForm/index\";import Results from\"../Results/index\";import Title from\"../Title/index\";// import \"./style.css\";\nimport API from\"../../utils/API\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SearchResultContainer=/*#__PURE__*/function(_Component){_inherits(SearchResultContainer,_Component);var _super=_createSuper(SearchResultContainer);function SearchResultContainer(){var _this;_classCallCheck(this,SearchResultContainer);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={// search\nsearch:\"\",// results\nresults:[],// sorted name\nsort:\"DESC\"};_this.searchUsers=function(query){API.search(query).then(function(res){_this.setState({results:res.data.results});});};_this.handleInputChange=function(event){if(event.target.name===\"search\"){var search=event.target.value.toLowerCase();_this.setState({search:search});}};_this.handleFormSubmit=function(event){event.preventDefault();_this.searchUsers(_this.state.search);};_this.sortByName=function(){var alphabetizedResults=_this.state.employees.sort(function(a,b){return a.name.first>b.name.first?1:-1;});if(_this.state.sort===\"DESC\"){alphabetizedResults.reverse();_this.setState({sort:\"ASC\"});}else{_this.setState({sort:\"DESC\"});}_this.setState({employees:alphabetizedResults});};_this.sortByPhone=function(){var phoneResults=_this.state.results.sort(function(a,b){return parseInt(a.phone.trim().replace(/-()/),\"\")-parseInt(b.phone.trim().replace(/-()/),\"\")?1:-1;});_this.setState({employees:phoneResults});};return _this;}_createClass(SearchResultContainer,[{key:\"componentDidMount\",value:// component did mount calls searchUsers\nfunction componentDidMount(){this.searchUsers(\"\");}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Title,{}),/*#__PURE__*/_jsx(SearchForm,{search:this.state.search,handleFormSubmit:this.handleFormSubmit,handleInputChange:this.handleInputChange}),/*#__PURE__*/_jsx(Results,{search:this.state.search,results:this.state.results,sortByName:this.sortByName,sortByEmail:this.sortByEmail,sortByPhone:this.sortByPhone,sortByDOB:this.sortByDOB})]});}}]);return SearchResultContainer;}(Component);export default SearchResultContainer;","map":{"version":3,"sources":["/Users/jg/code/bootcamp/homework/19-user-directory/src/components/SearchResultContainer/index.js"],"names":["React","Component","SearchForm","Results","Title","API","SearchResultContainer","state","search","results","sort","searchUsers","query","then","res","setState","data","handleInputChange","event","target","name","value","toLowerCase","handleFormSubmit","preventDefault","sortByName","alphabetizedResults","employees","a","b","first","reverse","sortByPhone","phoneResults","parseInt","phone","trim","replace","sortByEmail","sortByDOB"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport SearchForm from \"../SearchForm/index\";\nimport Results from \"../Results/index\";\nimport Title from \"../Title/index\";\n// import \"./style.css\";\nimport API from \"../../utils/API\";\nclass SearchResultContainer extends Component {\n  state = {\n    // search\n    search: \"\",\n    // results\n    results: [],\n    // sorted name\n    sort: \"DESC\",\n  };\n\n  // component did mount calls searchUsers\n  componentDidMount() {\n    this.searchUsers(\"\");\n  }\n\n  searchUsers = (query) => {\n    API.search(query).then((res) => {\n      this.setState({ results: res.data.results });\n    });\n  };\n\n  handleInputChange = (event) => {\n    if (event.target.name === \"search\") {\n      const search = event.target.value.toLowerCase();\n      this.setState({\n        search: search,\n      });\n    }\n  };\n\n  handleFormSubmit = (event) => {\n    event.preventDefault();\n    this.searchUsers(this.state.search);\n  };\n\n  // sort by first name\n  sortByName = () => {\n    const alphabetizedResults = this.state.employees.sort((a, b) => {\n      return a.name.first > b.name.first ? 1 : -1;\n    });\n\n    if (this.state.sort === \"DESC\") {\n      alphabetizedResults.reverse();\n      this.setState({ sort: \"ASC\" });\n    } else {\n      this.setState({ sort: \"DESC\" });\n    }\n    this.setState({ employees: alphabetizedResults });\n  };\n\n  // sort by phone\n  sortByPhone = () => {\n    let phoneResults = this.state.results.sort((a, b) => {\n      return parseInt(a.phone.trim().replace(/-()/), \"\") -\n        parseInt(b.phone.trim().replace(/-()/), \"\")\n        ? 1\n        : -1;\n    });\n    this.setState({ employees: phoneResults });\n  };\n\n  render() {\n    return (\n      <div>\n        <Title />\n        <SearchForm\n          search={this.state.search}\n          handleFormSubmit={this.handleFormSubmit}\n          handleInputChange={this.handleInputChange}\n        />\n        <Results\n          search={this.state.search}\n          results={this.state.results}\n          sortByName={this.sortByName}\n          sortByEmail={this.sortByEmail}\n          sortByPhone={this.sortByPhone}\n          sortByDOB={this.sortByDOB}\n        />\n      </div>\n    );\n  }\n}\n\nexport default SearchResultContainer;\n"]},"metadata":{},"sourceType":"module"}